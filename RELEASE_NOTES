11.3.4 (08-09-2023)
- Improvement: Avoid invoking payline webservice, for payment request status, inside a write transaction

11.3.3 (08-09-2023)
- Improvement: Replace ForwardPayment::findAll by a global counter, to set the orderNumber which must be unique and sequential

11.3.2 (06-09-2023)
- Improvement: Remove checking the duplication of sibs reference codes, to improve performance of reference code generation with check digit protocol
- Improvement: Remove synchronized keywords, from methods invoked in initialisation of platform

11.3.1 (01-09-2023)
- Improvement: Avoid TreasuryExemption::find(TreasuryEvent) which was doing a readAll

11.3.0 (14-08-2023)
- Improvement: Support override first day to apply penalty in monthly penalty interest type
- Improvement: The Event discount in tuition fee with treasury exemption is true by default
- Refactor: Add calculation of default exemption in TreasuryExemption
- Refactor: Add utility methods in treasury event, to get a map of treasury exemption type and respective amount exempted
- Refactor: Add code property to TreasuryEvent, to add in treasury importations

11.2.0 (25-07-2023)
- New Feature: Monthly interest type
- Refactor: Set interest rate entry bean description in the interest rate type subclasses
- Refactor: Record penalty fixed amount in the InterestRateEntry. This will be used by interest rate type, in which the penalty is global and not by debit entry

11.1.0 (18-07-2023)
- Refactor: Add helper method DebitEntry::annulOnlyThisDebitEntryAndInterestsInBusinessContext, to annul the debit entry considering if it is closed in debit note or not, to reduce the repetitive methods of annuling debit entry
- Refactor: Rename TreasuryEvent::getAmountToPay to TreasuryEvent::getAmountWithVatToPay
- Refactor: Add other methods in TreasuryEvent to get the net amount to pay and net credit amount
- Refactor: Remove TreasuryEvent::getExemptedAmount, to be replaced by TreasuryEvent::getNetExemptedAmount

11.0.4 (03-07-2023)
- Refactor: Add utility methods to TreasuryEvent to get debit, credit and exempted amounts by product
- Improvement: Export to ERP quantity different than one with correct unit price

11.0.3 (22-06-2023)
- Improvement: Support calculation of multiple interest calculation and multiple debts creation
- Bug Fix: Error fix in global balance transfer. Do not sum the unit amount with exempted amount, since the treasury certification the unit amount maintains its value (#qubIT-Fenix-4110)

11.0.2 (06-06-2023)
- Bug fix: Fix initialization of global interest rate, which might be initialized by migration script

11.0.1 (05-06-2023)
- Improvement: Set expiration date for sibs reference requests, requested by SIBS DPG
- Improvement: Present active sibs payment requests if expiration date is not set or it is not expired

11.0.0 (25-05-2023)
- New Feature: Dynamic interest rate calculators

10.2.1 (24-05-2023)
- Improvement: Do not process meo wallet webhook notifications if it is not active

10.2.0 (23-05-2023)
- Refactor: Service to retrieve the certified document number and document date

10.1.9 (23-05-2023)
- Bug Fix: Apply fix labels of due date calculation type #UL-REIT-3144

10.1.8 (23-05-2023)
- Refactor: Check if it is possible to delete sibs reference code

10.1.7 (15-05-2023)
- Refactor: Add simple junit test for global interest rate calculations
- Bug Fix: In SIBS Gateway Webhook, check if SIBS Gateway is active. If not throw exception to reject the notifications

10.1.6 (17-04-2023)
- Bug Fix: Initialize payment methods with saft code
- Bug Fix: Add temporary trigger to fix labels of due date calculation type #UL-REIT-3144

10.1.5 (03-04-2023)
- Improvement: Boolean property to control the certificate date (or close date), to apply in certification of documents

10.1.4 (09-03-2023)
- Bug Fix: Fix debit entry annulment error message, when debit entry is associated with debit note

10.1.3 (15-02-2023)
- Bug Fix: Fix SAFT error validation translation, regarding the invalid fiscal number
- Improvement: Return the first line of last ERP error integration
- Improvement: Do not check if a finantial document maybe be integrated with success
- Refactor: Method in Treasury Platform Services, to check if document is certified 

10.1.2 (10-02-2023)
- Bug Fix: Fix message of credit entry annulment, by the removal of treasury exemption
- Refactor: Remove method Customer::getFiscalCountry and other related methods of similar name. This method cause some confusion and is replaced by Customer::getAddressCountryCode
- Improvement: Improve error messages related in ERP integration, related to address field's size limits

10.1.1 (30-01-2023)
- Refactor: Change rules for creation for CreditNote. Allow the creation of credit note for a debit note which is annuled. This is necessary for migration of credit notes
- Refactor: Method in debit entry to check if it is totally exempted
- Refactor: Allow the creation of a finantial document entry for an annuled finantial document. This is necessary for migration of annuled credit entries
- Refactor: Add method in finantial document entry, to add to finantial document. This method will check if the finantial document entry is not in closed or annuled finantial document
- Refactor: Remove not used methods in Series entity

10.1.0 (04-01-2023)
- Refactor: Split TreasuryEvent::invokeSettlementCallbacks method in two, one receiving the settlement note and other the treasury exemption

10.0.6 (03-01-2023)
- Refactor: Revert the removal of checking if customer exists, independent of customer subclass

10.0.5 (15-12-2022)
- Improvement: Check if there is already an active customer with the same fiscal number, only within the instances of the subclasses AdhocCustomer and PersonCustomer

10.0.4 (07-12-2022)
- Refactor: Change visibility of some methods of SAPExporter, in order to extend this class for some tests
- Bug Fix: Remove restriction of sending invoice entries with quantity above one to ERP. This changes are in subclass of SAPExporter for previous tests
- Refactor: Declare methods in TreasuryEvent, if the event discount tuition with TreasuryExemption

10.0.3 (28-11-2022)
- Refactor: Revert the issue of sending debit notes with quantity different than one

10.0.2 (25-11-2022)
- Bug Fix: Fix SAP integration, specifically WorkDocument » Line » UnitPrice, which is the netAmount divided by quantity scaled by 4 decimal places

10.0.1 (24-11-2022)
- Bug Fix: Remove restriction of sending invoice entries with quantity above one to ERP

10.0.0 (22-11-2022)
- New Feature: Support fiscal months to close operations in the respective month. When creating FiscalYear, also create fiscal months
- Improvement: Support to annul certified credit note
- Refactor: Comment the VAT recalculation in each debit entry, when closing a debit note
- Bug Fix: Protect method DebitNote::createDebitNoteForDebitEntry, check if the debit entry argument has already a debit note. Throw error if yes.
- Bug Fix: Check if TreasuryExemptionType default percentage is not negative and not greater than 100%
- Bug Fix: Check if Customer name if greater than 100 characters (imposed by SAFT)
- Bug Fix: Check Product name length is not less than 2 characters and not greater than 200 characters (imposed by SAFT)
- Bug Fix: Check if ProductGroup code length is not above 50 characters (imposed by SAFT)
- Refactor: Add service to split local date period between years
- New Feature: Allow override InvoiceEntry fields: netAmount, vatRate, vatAmount and amountWithVat. These debit entries can only be credited by full amount, not even exempted

9.6.5 (14-11-2022)
- Bug Fix: In invoice certification mode, in annulment of debit note of legacy series, use the default series to create the credit note, instead of the same legacy series
- Improvement: Method in debit note to create open credit note, to fill the original invoice details
- Bug Fix: Do not apply reimbursement compensation (due to SAP) in invoice certification mode

9.6.4 (03-11-2022)
- Improvement: Allow set active in vat exemption reasons. Also add field for the legal article describing the exemption
- Refactor: Comparator for Product entity
- Refactor: Transform SpreadsheetRow interface as funcional interface

9.6.3 (20-10-2022)
- Refactor: Remove deprecated InterestType.DAILY

9.6.2 (23-09-2022)
- Bug Fix: Fix bug in creating payment penalty tax for a debit entry associated with an payor debt account (#UL-ISEG-4290)

9.6.1 (23-09-2022)
- Refactor: Declare TreasuryEvent::getEventTargetCurrentState to retrieve to current state of the process associated with treasury event

9.6.0 (20-09-2022)
- Improvement: Save responsible and annullment date in proper fields of FinantialDocument, instead of appending to annulment reason
- Refactor: Change return type of method FinantialDocument::getFinantialDocumentEntriesOrderedByTuitionInstallmentOrderAndDescription to List instead of Set, to ensure elements are not lost in comparision
- Refactor: Change return type of method PaymentRequest::getOrderedDebitEntries to List instead of Set, to ensure elements are not lost in comparision
- Improvement: In sorting invoice entries of invoice, sort first by entry order and then by product's tuition order and description. This is to support explicit ordering in DebitNote
- Bug Fix: When removing debit entry from DebitNote, set the entryOrder field to null
- Refactor: Replace explicit ordering by FinantialDocument::getFinantialDocumentEntriesOrderedByTuitionInstallmentOrderAndDescription whenever possible
- Refactor: Remove reimbursement annulment by SAP restriction. Do not mark to export when reimbursement is annuled

9.5.8 (15-09-2022)
- Bug Fix: Do not save responsible user and datetime of an certified debit note annulement (without credit note)
- Bug Fix: In certification mode do not save responsible user and datetime in SettlementNote annulment

9.5.7 (14-09-2022)
- Bug Fix: Allow annulement of certified invoice without credit note
- Bug Fix: Remove restriction of exemption for debit entries in which quantity is different than one

9.5.6 (09-09-2022)
- Bug Fix: In generating payment code locally, verify if reference code exists for the same set of debit entries

9.5.5 (09-09-2022)
- Improvement: Verify if SibsPaymentRequest is unique only if SibsPaymentCodePool is check-digit. Do not verify for SIBS DPG and SIBS protocol client file

9.5.4 (05-09-2022)
- Refactor: Add property to limit reimbursement to one credit only, which is declared as dynamic property but necessary to group with other similar properties

9.5.3 (31-08-2022)
- Refactor: The method TreasuryAccessControlAPI::isAllowToModifyInvoices return the evaluation of permission isFrontOfficeMember
- Refactor: Allow update of reimbursement rejected state in specific instance and quality environment

9.5.2 (26-08-2022)
- Improvement: Include open interests in penalty tax payment code

9.5.1 (26-08-2022)
- Improvement: In certification mode and in closed debit note annulment, maintain all credit entries in same credit note
- Improvement: In certification mode, do not split credit entries
- Bug Fix: Close excess payment credit if it is preparing

9.5.0 (22-08-2022)
- New Fixture: Domain model for certified documents integration and recovery

9.4.0 (17-08-2022)
- Improvement: Add field to record the saft code of payment method

9.3.6 (12-08-2022)
- Bug Fix: Fix payment reference code creation link for student portal

9.3.5 (12-08-2022)
- New Fixture: FEAP fields in finantial document
- Refactor: Make available payment reference code creation for specific institution

9.3.4 (29-07-2022)
- Improvement: Restrict payment mode selection in online payment, if it is frontend or not

9.3.3 (28-06-2022)
- Refactor: Add method to DebitEntry to check of it is academical act blocking after due date

9.3.2 (02-06-2022)
- Bug Fix: Validate if document is already exported in ERP before sending to ERP, instead of validating even if generating to XML
- Bug Fix: Add custom fiscal validation for Germany VAT numbers (9 digits)

9.3.1 (30-05-2022)
- Refactor: Add validation checks to SibsReferenceCode
- Bug Fix: Set creator in SibsOutputFile
- Bug Fix: Fix comments label in excess payment generation

9.3.0 (24-05-2022)
- New Feature: Treasury debt processes service, to check if invoice entry is blocked in some operations like payment or annulment
- Improvement: Lock interests at certain date

9.2.2 (22-05-2022)
- Improvement: Check if customer is with finantial documents integrated in ERP without using ERP integration implementation class
- Bug Fix: Throw error when reading SIBS Payment Gateway by merchant transaction id, instead of returning empty collection

9.2.1 (02-05-2022)
- Bug Fix: Fill credit and exemption reason in documentObservations of Credit Note
- Improvement: Generic access control configuration, to activate access control implementations
- Refactor: Fix compilation warnings due to missing generic type
- Bug Fix: Unregister access control extension by class, instead of implementation object
- Bug Fix: Only register one access control extension of a given class

9.2.0 (22-04-2022)
- Refactor: Export SAFT to OutputStream instead of byte array
- Improvement: Service to ativate or deactivate treasury certification mode (DR 28/2019 Art 11 2a)
- Refactor: Methods to find payment plans
- Improvement: Add EAC code to Finantial Institution
- Refactor: Remove deprecated code of old payments domain model
- Improvement: With Treasury Certification create an excess payment debit note, instead of advanced payment credit note
- Improvement: With Treasury Certification, recalculate the vat rate and vat amounts when closing a debit note
- Bug Fix: Use VAT find with current dateTime, instead of the debt date

9.1.1 (11-04-2022)
- Bug Fix: Do not edit product name if it is already certified
- Refactor: Service to check if product is certified
- Refactor: Service to check is platform is in development or quality mode

9.1.0 (31-03-2022)
- New Feature: PayPal integration
- Bug Fix: Service to annul certified documents
- Bug Fix: Fix types in bundles

9.0.0 (23-03-2022)
- New Fixture: Treasury invoice certification
- Improvement: Invoice certification mode by finantial institution
- Bug Fix: Use rounding mode HALF_UP, instead of HALF_EVEN, in interests calculation
- Bug Fix: Use rounding mode HALF_UP, instead of HALF_EVEN, in dividing with scale of 20. This change does not impact in the calculations, because the scale is 20

8.6.5 (15-03-2022)
- Refactor: In deletion of TreasuryExemption, do not disconnect the debitEntry relation, in order to avoid calling it directly
- Bug Fix: Fix label used in voiding the payment plan by non compliance infered by payment plan validators
- Improvement: Create payment method in bootstrap, for credit card

8.6.4 (10-03-2022)
- Bug Fix: Fix calculation of exemptions, assuming the exemptedAmount is without vat
- Improvement: Add checks to ensure the cents of netAmount, vatAmount, exemptedAmount and amountWithVat are atmost 2
- Improvement: In spliting credits, check that the old netAmount is equal to the sum of both new netAmounts
- Improvement: In spliting credits, check that the old amountWithVat is equal to the sum of both new amountWithVat

8.6.3 (07-03-2022)
- Refactor: Mark TreasuryExemption::valueToExempt as deprecated and replace with TreasuryExemption.netAmountToExempt
- Refactor: Mark DebitEntry::exemptedAmount as deprecated and replace with DebitEntry::netExemptedAmount

8.6.2 (28-02-2022)
- Improvement: Override information of finantial institution info header in online payments

8.6.1 (19-02-2022)
- Bug Fix: Fix translation of payment plan validators
- Refactor: Service to get holidays from platform
- Bug Fix: Calculate validation of payment plans based on workdays (also excluding holidays)

8.6.0 (26-01-2022)
- Improvement: Improvement of Saft and ERP Export
- Refactor: Comparator for SettlementNote by payment date
- Refactor: Methods to check if credit note must be created when reimbursed
- Bug Fix: Apply creation of new credit when registering a reimbursement if credit notes are not to be closed immediatelly
- Bug Fix: Fix translation of payment method for debit card

8.5.5 (16-12-2021)
- Bug Fix: Save username and datetime in Settlement annulment message

8.5.4 (12-12-2021)
- Bug Fix: Annul pending interests debit entries if anullGeneratedInterests is true

8.5.3 (11-12-2021)
- Improvement: Remove restriction of reimbursement for one credit entry only. Now reimbursement notes allow settlement of various credit entries.
- Refactor: Deletion methods for ForwardPaymentRequest, SibsPaymentRequest and PaymentTransaction
- Improvement: When a debit note is annulled, then the interests debit entries are annulled too
- Improvement: Validate if interest type is global rate or fixed interest 

8.5.2 (29-11-2021)
- Improvement: Payment plan is created even though mb reference code fail

8.5.1 (22-11-2021)
- Refactor: Add code field to customer, finantial document and finantial document entry
- Refactor: Rename one of SibsPaymentCodeTransaction.create method to distinguish from the other create method

8.5.0 (19-11-2021)
- Improvement: Property in payment method to check if requires a payment method reference, when registering a settlement note in backoffice
- Refactor: Remove defaultReference property in PaymentMethodReference. Replace with "forDigitalPayments" property which if marked, the reference will be applied in digital payments
- Refactor: Remove hardcoded "COB PAG SERV <sibsEntity>" and replace by payment reference code marked with "forDigitalPayments" property
- Improvement: Emit settlement note bennu signal when settlement note is closed, instead of settlement entry creation
- Refactor: Created an interface to declare a bennu signal handler or callback
- Bug Fix: Only try to close credit entries with debit entries if they are not annuled (#UL-ISCSP-714)
- Refactor: Predicates in TreasuryEvent to check if it is related with tuition debts, and if the event discount on tuition total amount
- Refactor: Set method in Tariff, to calculate due date as static, so it can be reused

8.4.0 (09-11-2021)
- Improvement: Change Settlement note receipt from odt to webdocs 
- Improvement: Control the creation of payment reference codes in payment plans
- Bug Fix: Limit the size of customerBusinessId in ERP integration with SAP (#UL-REIT-2583)
- Improvement: Treasury dependent platform for tests supports bundled keys for default locale and english locale

8.3.0 (25-10-2021)
- Improvement: Add method getUiDescription on paymentRequest
- Bug fix: Correction on PaymentPlatforms to process forward payments webhooks
- Improvement: Add button to update all due dates of debt note and debit entries 
- Improvement: Make compatible forward payment request notification handle by webhook and by customer controller, in order to avoid errors due to race conditions arised by handling payment by both ways
- New Fixture: Support multiple exemptions

8.2.1 (24-09-2021)
- Improvement: Send Debt Account to ERP
- Bug Fix: In BalanceTransferService only close regulationCreditEntry document if it is preparing
- Improvement: Add expireDate to SibsPaymentRequest and anull that are voided
- Bug Fix: Check if CreditNote of regulation series does not have debit note associated
- Bug Fix: Return null in getEmail() and getPhoneNumber() of AdhocCustomer, instead of throwing a RuntimeException

8.2.0 (16-09-2021)
- Improvement: Remove the max limit of payment request code from online platforms
- Improvement: Add the possibility of register a payment with multiple payment modes
- Improvement: Close credit notes when creating and Support for partial reimbursement on credits
- Refactor: Change jackson dateTime serialization in MeoWallet service
- Refactor: Declare methods in PaymentRequestLog that return the merchant transaction id and digital platform external transaction id
- Refactor: Add method isToCloseCreditNoteWhenCreated() to FinantialInstitution, to be easily invoked
- Improvement: Possibility to export customer email in SAFT
- Refactor: Remove scheduleDocumentForExportation from ITreasuryPlatformDependentServices, which is the same as scheduleDocumentForExportation
- Refactor: Move ERP exporter finantial document filtering to specific integration
- Refactor: Move reimbursement state update to specific IERPExporter (method processReimbursementStateChange())
- Bug Fix: Fix settlement between debit and credit entries, when debit entry is annulled or exempted partially
- Refactor: Move reimbursement rejection update from ERPExportManager to SAPExporter

8.1.0 (31-08-2021)
- Refactor: Simplify payment plan creation
- Improvement: Allow creation of penalty tax for adhoc customers. It is useful for unit tests
- Refactor: Mark FixedTariff as not deprecated, which is useful for unit tests
- Improvement: Unit tests for payment plans

8.0.4 (25-08-2021)
- Improvement: Limit SibsPaymentCodePool payment request creation concurrency to avoid restarts

8.0.3 (17-08-2021)
- Bug Fix: Save sibs importation filename as comment in payment transaction, as before in deprecated sibs transaction detail
- Bug Fix: Save sibs processing date in payment transaction
- Bug Fix: In payment request payment processing, exclude associated installments that are closed or annulled
- Bug Fix: Change SettlementNoteBean.date from LocalDate to DateTime, in order to not lose precision in registering automatic payments

8.0.2 (27-07-2021)
- Improvement: Use service to get transaction summary and debit&credits web docs file extension

8.0.1 (26-07-2021)
- Bug Fix: Revert and remove possible integration with SINGAP compatibility code

8.0.0 (26-07-2021)
- Improvement: Debts and Credits summary and transactions summary support on platformDependentServices
- Improvement: Close credit note when created if is SINGAP ERP Service Implementation
- Improvement: Change payment plan installment creation algorithm to support interests and penaltyTax distribution
- New Fixture: Meo Wallet service
- Improvement: add Terms and conditions to finantial documents
- Improvement: Order settlement note entries in printed settlement note
- New Fixture: Virtual Payment Entry Handler
- Improvement: Validate that the debit entries, included in debit note, are preparing and the payor debt account matches
- New Fixture: Payment method references, to stick the payment method reference code in payment entry as id
- Refactor: Move Bennu specific implementations to fenixedu-treasury-ui
- New Fixture: Support Payline in OMNIS

7.2.1 (23-06-2021)
- Bug Fix: Payment Plan: multiples bug fix on creation payment plan

7.2.0 (17-06-2021)
- New Fixture: Payment plan configurators with custom interests and penalties calculations, and debit entries distribution in installments

7.1.1 (14-06-2021)
- Improvement: Add date when payment plan is closed by settlement
- Bug Fix: Do not create payment penalty for settlement entries, of created settlement note, which has installment settlement entries in which installment due date is not before of payment date

7.1.0 (07-06-2021)
- Refactor: Refactor payment penalty from fenixedu-academic-treasury-base to fenixedu-treasury
- Improvement: Use default payment platform to Automatic rules and Academic services

7.0.6 (26-04-2021)
- Bug Fix: Translate missing labels in english, related to SIBS processing

7.0.5 (21-04-2021)
- Bug Fix: Infering debit entry last payment date, in which only consider settlements that do not credit own debit entry
- Improvement: Do not change automatically valid interval dates of sibs reference codes, when editing sibs payment code pool

7.0.4 (16-04-2021)
- Bug Fix: Fix ERP customer address city field exportation
- Improvement: Replace translation for SibsReferenceCode UNUSED state

7.0.3 (14-04-2021)
- Bug Fix: Correction on search customer by name

7.0.2 (14-04-2021)
- Bug Fix: Beside checking if SibsPaymentRequest have debitEntries, check if it have installments also

7.0.1 (12-04-2021)
- Bug Fix: Do not edit the product code, when editing product information

7.0.0 (10-04-2021)
- New Fixture: Digital Payment Platform

6.2.0 (10-04-2021)
- Improvement: Payment Plan now accept only one installment
- Refactor: Digital Payment Platform domain model

6.1.3 (21-03-2021)
- Bug Fix: Before create payment reference code and payment target, ensure any debit entry or installment does not have more than two ative references

6.1.2 (10-03-2021)
- Bug Fix: Fix description of MultipleEntriesPaymentCode

6.1.1 (07-03-2021)
- Refactor: Set methods of Settlement to public, to be used in importation module

6.1.0 (01-03-2021)
- New Fixture: Support payment plan installments in MBWay
- Bug Fix: First create MbwayPaymentRequest and then request sibs transaction id, to avoid orphan sibs requests

6.0.1 (01-03-2021)
- Bug Fix: Remove method overriding relation in MbwayPaymentRequest

6.0.0 (01-03-2021)
- New Fixture: Payment plans for debit entries
- Improvement: Hinder debit entries exported in legacy ERP, being associated with payment plans in restricted payment mode

5.1.6 (31-01-2021)
- Improvement: Limit address fields by 3D Secure protocol

5.1.5 (11-01-2021)
- Bug Fix: Trim fiscalNumber to not accept spaces as fiscal number
- Improvement: Limit adhoc customer name to 100 characters (limit set by SAFT-PT)

5.1.4 (29-12-2020)
- Bug Fix: Use HALF_UP for calculation of vat amounts
- Improvement: Error messages for insuccess attempts in online payments

5.1.3 (10-11-2020)
- Bug Fix: With SIBS OPPWA payment code generation, check if debit entry has maximum active reference codes

5.1.2 (07-09-2020)
- Improvement: Improve spreasheet generation to use less memory

5.1.1 (27-07-2020)
- Refactor: Static method to retrieve the designation of type of payment processor

5.1.0 (22-07-2020)
- Refactor: Uniform payment request entities method signatures

5.0.4 (07-07-2020)
- Refactor: Remove restriction of credit note with one credit entry only
- Refactor: Remove legacy commented code
- Refactor: Method factory to create debit entries from importation, to allow debit entries creation in closed debt accounts or inactive customers

5.0.3 (19-05-2020)
- Improvement: Translate error messages
- Bug Fix: In deletion of payment code pools

5.0.2 (18-05-2020)
- Bug Fix: Editing and deleting Forward Payment Configuration

5.0.1 (13-05-2020)
- Refactor: Apply finantial institution comparator for finantial entity
- Bug Fix: Fix typos in bundles
- Bug Fix: Portuguese translation in labels

5.0.0 (24-04-2020)
- Refactor: Move URL of Forward Payment processing to interface to avoid dependencies of Spring controllers
- Refactor: Remove web files, spring controllers and bennu specific classes leaving domain classes

4.8.1 (08-04-2020)
- Bug Fix: Set debit note due date when closing the finantial document instead of relying in the automatic debt generation for close debit notes

4.8.0 (06-04-2020)
- New Fixture: Global Interest Rate by periods based on date instead of year

4.7.1 (27-03-2020)
- Improvement: Also abbreviate Product>ProductDescription in SAFT to 200 characters at most

4.7.0 (26-03-2020)
- Refactor: To split module in domain and ui module, change IForwardPaymentController package
- Refactor: Get IForwardPaymentController by class registration by online payments implementation
- Refactor: Export single document to ERP is a dependent-platform service 
- Improvement: Cut SAFT WorkDocument>Line>Description to 200 characters

4.6.11 (17-03-2020)
- Bug Fix: Include referenced customers in settlement those of advance payment credit
- Bug Fix: Validate VAT numbers with TIN with the check code result is 2, which means does not have syntax validation which may be valid
- Refactor: Upgrade parent artifact id version

4.6.10 (02-03-2020)
- Improvement: Check SIBS OPPWA duplicate transaction with SIBS transaction id, besides the combination of sibsEntityCode+paymentCode+paymentDate

4.6.9 (28-02-2020)
- Improvement: For SIBS OPPWA notifications with insucess operation, return HTTP 200 in order for SIBS to not resend the notification again

4.6.8 (27-02-2020)
- Improvement: In payment with credit card with SIBS OPPWA, select one of the registered addresses to send to SIBS

4.6.7 (17-02-2020)
- Bug Fix: Avoid translation of SIBS payment entry importation log

4.6.6 (12-02-2020)
- Bug Fix: Fix angular bug in create settlement note creation interface
- Improvement: Remove date interval restriction in settlement transactions summary

4.6.5 (30-01-2020)
- Refactor: Remove deprecated sibs payments broker task, which was moved to another module.
- Improvement: Check payment reference code business constraints in read transaction and process the payment in write transaction, to improve performance
- Bug Fix: Read locale from string

4.6.4 (27-01-2020)
- Bug Fix: Display correct amount of selected tuition debt, in checkout of an online payment
- Bug Fix: Fix interest debit entries settlement, in processing the forward payment
- Refactor: Check in settlement note that an invoice entry is referenced only once by an settlement entry.

4.6.3 (09-01-2020)
- Refactor: Clean references for getCountryCode() method which is deprecated, replaced by getAddressCountryCode()

4.6.2 (13-12-2019)
- Improvement: Send billing data for SIBS OPPWA in online payment request

4.6.1 (05-12-2019)
- Improvement: Respond with success for webhook activation message from SIBS OPPWA

4.6.0 (04-12-2019)
- New Fixture: MBWay payment interface

4.5.1 (03-12-2019)
- Bug Fix: In displaying information about finantial institution in forward payment pages

4.5.0 (02-12-2019)
- Improvement: Display more information about finantial institution in forward payment pages
- Improvement: Specify forward payment logo jsp file dynamically for SIBS OPPWA integration
- Bug Fix: Reply with http status 200 when receiving SIBS OPPWA webhook notification of type "PA"

4.4.1 (14-10-2019)
- Bug Fix: Fix presentation issues and check if forwardPayment is in valid state when checking out payment

4.4.0 (08-10-2019)
- Improvement: Support for multiple ForwardPayment transactions to report for post payment processing.
- Bug Fix: Find payment reference code by sibsEntityCode and payment code, instead of payment code only. This bug fix is necessary to support multiple pools with different sibsEntityCodes
- Refactor: Write payloads in SIBS OPPWA logs in method annotated with Atomic(WRITE) instead of using FenixFramework.atomic
- Refactor: Method to check if address is valid for invoices
- Bug Fix: Write interest debt description in default language even if the user session is configured with other language
- Bug Fix: Require vat exemption reason if vat type is exempted

4.3.1 (09-09-2019)
- Improvement: Run task ProcessSibsPaymentsFromBroker to register SIBS payments from broker in read transaction

4.3.0 (06-09-2019)
- Refactor: Move business methods from controllers to domain entities 
- Bug Fix: When credit debitEntry with some creditEntry, create settlement for called debitEntry instead of debitEntry origin of creditEntry
- New Fixture: Credit debit entries with variable amount
- Improvement: Generate UUID for SIBS merchant id, instead of using counter
- Refactor: In SIBS OPPWA create payment reference code and associate debit entries in same transaction
- Improvement: Print PaymentReferenceCode and PaymentCodeTarget creation date

4.2.3 (29-08-2019)
- Bug Fix: Register payment with PaymentReferenceCode of inactive PaymentCodePool
- Bug Fix: In view document serie

4.2.2 (28-08-2019)
- Refactor: Create MB Way transaction when registering payment settlement notes

4.2.1 (20-08-2019)
- Refactor: In online payments gateway to accomodate SIBS OPPWA.
- Refactor: Improve mbway and mb reference payment notification handler

4.2.0 (14-08-2019)
- New Fixture: Model for MBWay payment request and handling payment notification

4.1.0 (09-08-2019)
- Bug fix: Fix SIBS OPPWA response in payment reference code generator
- Refactor: Remove forward payment number from SIBS OPPWA Log
- Improvement: In payment code pool select payment code generator

4.0.0 (07-08-2019)
- Refactor: Comparators in some entities
- Refactor: Method to create credit entry for debit entry
- Refactor: Move service method to create forward payment, from controller to domain entity
- Refactor: Logic of including all selected interest debit entries is in bean, instead in controller
- Refactor: Default product unit description
- Bug fix: Get anullment message from bundle with default locale

3.2.1 (05-08-2019)
- Refactor: Do not save created payment reference codes in SibsOutputFile entry
- Bug Fix: Print creation datetime of SibsOutputFile

3.2.0 (05-08-2019)
- Bug fix: Do not wrap treasury domain exception when requesting payment reference code
- Refactor: Option to invalidate old payment reference codes, on exporting sibs output file

3.1.1 (02-08-2019)
- Bug fix: Generate SIBS reference with OPPWA only if payment code pool is active
- Bug fix: Read OPPWA webhook notification from request instead of file

3.1.0 (31-07-2019)
- New Fixture: SIBS OPPWA payment notifications and settlement note creation via webhooks

3.0.0 (29-07-2019)
- Refactor: Deprecate fiscal country code. Instead use address country with fiscal number
- Refactor: Save and use address compound in Customer fields
- Refactor: Add region to Cutomer's fiscal address
- Refactor: In ERP integration fill missing address fields with "Desconhecido", the only address required field is country code
- Improvement: Validate zip code for AdhocCustomer portuguese address

2.4.3 (26-07-2019)
- Refactor: Remove debit note read screen funcionality to create loose credit notes 
- Refactor: SIBS OPPWA: Set DomainRoot to SIBSTransactionDetail, save more log on webhook notification

2.4.2 (23-07-2019)
- Refactor: Control SIBS enviroment mode for integration by configuration
- Refactor: Log SIBS notification (webhook) messages

2.4.1 (18-07-2019)
- Bug Fix: Set HTTP method of OPPWA Webhook endpoint to POST

2.4.0 (18-07-2019)
- New Fixture: Integration with Online Payments Gateway (SIBS OPPWA)

2.3.0 (12-07-2019)
- Refactor: Rename treasury domain file entities to their original class name

2.2.4 (05-07-2019)
- Refactor: Save clear document to export datetime
- Refactor: In settlement annulment and in the case of ERP certification date is not, use if possible clear document to export date

2.2.3 (05-07-2019)
- Refactor: Use ERP certificate date to check if settement note can be conditionally annuled

2.2.2 (19-06-2019)
- Refactor: Optimize operation file domain object access by operation file

2.2.1 (04-06-2019)
- Delete operation file domain object if exists

2.2.0 (03-06-2019)
- Represent treasury domain entity files as domain entities

